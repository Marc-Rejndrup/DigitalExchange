CREATE TABLE Person (
SSN INTEGER,
Name CHAR(20) NOT NULL,
Address CHAR(20),
ZipCode INTEGER,
Telephone INTEGER,
PRIMARY KEY (SSN));


CREATE TABLE Employee (
ID INTEGER,
SSN INTEGER,
StartDate DATE,
HourlyRate INTEGER,
PRIMARY KEY (ID),
FOREIGN KEY (SSN) REFERENCES Person (SSN)
ON DELETE NO ACTION
ON UPDATE CASCADE );

CREATE TABLE Account (
Id INTEGER,
DateOpened DATE,
Client INTEGER,
PRIMARY KEY (Id),
FOREIGN KEY (Client) REFERENCES Client (Id)
ON DELETE NO ACTION
ON UPDATE CASCADE );

CREATE TABLE Client (
Email CHAR(32),
Rating INTEGER,
CreditCardNumber INTEGER,
Id INTEGER,
PRIMARY KEY (Id),
FOREIGN KEY (Id) REFERENCES Person (SSN)
ON DELETE NO ACTION
ON UPDATE CASCADE );

CREATE TABLE Transaction (
Id INTEGER,
Fee DOUBLE,
DateTime DATETIME,
PricePerShare DOUBLE,
PRIMARY KEY (Id) );

CREATE TABLE Orders (
NumShares INTEGER,
PricePerShare DOUBLE,
Id INTEGER,
DateTime DATETIME,
Percentage DOUBLE,
Price CHAR(20),
OrderType CHAR(5),
AccountId INTEGER,
Stock CHAR(20),
PRIMARY KEY (Id) );

CREATE TABLE Stock (
StockSymbol CHAR(20) NOT NULL,
CompanyName CHAR(20) NOT NULL,
Type CHAR(20) NOT NULL,
PricePerShare DOUBLE,
NumShares INTEGER,
PRIMARY KEY (StockSymbol) );

CREATE TABLE Trade (
AccountId INTEGER,
BrokerId INTEGER,
TransactionId INTEGER,
OrderId INTEGER,
StockId CHAR(20),
PRIMARY KEY (AccountId, BrokerId, TransactionId, OrderId, StockId),
FOREIGN KEY (AccountID) REFERENCES Account (Id)
ON DELETE NO ACTION
ON UPDATE CASCADE,
FOREIGN KEY (BrokerId) REFERENCES Employee (Id)
ON DELETE NO ACTION
ON UPDATE CASCADE,
FOREIGN KEY (TransactionID) REFERENCES Transaction (Id)
ON DELETE NO ACTION
ON UPDATE CASCADE,
FOREIGN KEY (OrderId) REFERENCES Orders (Id)
ON DELETE NO ACTION
ON UPDATE CASCADE,
FOREIGN KEY (StockId) REFERENCES Stock (StockSymbol)
ON DELETE NO ACTION
ON UPDATE CASCADE );

CREATE TABLE Holding(
	StockSymbol CHAR(20),
    Amount INTEGER,
    AccountId INTEGER);

